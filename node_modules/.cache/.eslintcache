[{"C:\\Users\\chaha\\Downloads\\Task-7 Inbox view page\\src\\index.js":"1","C:\\Users\\chaha\\Downloads\\Task-7 Inbox view page\\src\\App.js":"2","C:\\Users\\chaha\\Downloads\\Task-7 Inbox view page\\src\\Components\\Store\\index.js":"3","C:\\Users\\chaha\\Downloads\\Task-7 Inbox view page\\src\\Components\\Pages\\Login.js":"4","C:\\Users\\chaha\\Downloads\\Task-7 Inbox view page\\src\\Components\\Pages\\ComposeMail.js":"5","C:\\Users\\chaha\\Downloads\\Task-7 Inbox view page\\src\\Components\\Layout\\Navigationbar.js":"6","C:\\Users\\chaha\\Downloads\\Task-7 Inbox view page\\src\\Components\\Pages\\Inbox.js":"7"},{"size":382,"mtime":1678794467176,"results":"8","hashOfConfig":"9"},{"size":856,"mtime":1679551338221,"results":"10","hashOfConfig":"9"},{"size":969,"mtime":1678794467249,"results":"11","hashOfConfig":"9"},{"size":5972,"mtime":1678794467236,"results":"12","hashOfConfig":"9"},{"size":3523,"mtime":1679551412450,"results":"13","hashOfConfig":"9"},{"size":802,"mtime":1678794467192,"results":"14","hashOfConfig":"9"},{"size":2592,"mtime":1679571226042,"results":"15","hashOfConfig":"9"},{"filePath":"16","messages":"17","suppressedMessages":"18","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"19"},"1qxbdbl",{"filePath":"20","messages":"21","suppressedMessages":"22","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"19"},{"filePath":"23","messages":"24","suppressedMessages":"25","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"19"},{"filePath":"26","messages":"27","suppressedMessages":"28","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"29","usedDeprecatedRules":"19"},{"filePath":"30","messages":"31","suppressedMessages":"32","errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"33","usedDeprecatedRules":"19"},{"filePath":"34","messages":"35","suppressedMessages":"36","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"19"},{"filePath":"37","messages":"38","suppressedMessages":"39","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"C:\\Users\\chaha\\Downloads\\Task-7 Inbox view page\\src\\index.js",[],[],[],"C:\\Users\\chaha\\Downloads\\Task-7 Inbox view page\\src\\App.js",[],[],"C:\\Users\\chaha\\Downloads\\Task-7 Inbox view page\\src\\Components\\Store\\index.js",[],[],"C:\\Users\\chaha\\Downloads\\Task-7 Inbox view page\\src\\Components\\Pages\\Login.js",["40"],[],"import React, { useRef, useState } from 'react'\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form';\nimport { useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\n\n\nimport { authActions } from '../Store';\nfunction removeSpecialChar(mail){\n    let newMail=\"\";\n    for(let i=0;i<mail.length;i++){\n        if(mail[i]!==\"@\" && mail[i]!==\".\"){\n        newMail +=mail[i]\n        }\n    }\n    return newMail;\n}\n\nconst Login = () => {\n    const [login, setLogin] = useState(false);\n    const enteredMail = useRef();\n    const enteredPassword = useRef();\n    const enteredConfirmPassword = useRef();\n    \n    let dispatch=useDispatch();\n    const history=useHistory();\n    const toggleLogin = () => {\n        setLogin(!login);\n    }\n    const handleLogin = async (e) => {\n        e.preventDefault();\n        if (!login) {\n            if (enteredMail.current.value.length > 0 && enteredPassword.current.value.length > 0 && enteredConfirmPassword.current.value.length > 0) {\n                if (enteredPassword.current.value !== enteredConfirmPassword.current.value) {\n                    alert(\"password and confirmPasswors not matching\")\n                } else {\n                    try {\n                        let responce = await fetch(\"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyDSg8uVgp0fXQtVkz3zkV09sxAReuaip4A\", {\n                            method: \"POST\",\n                            body: JSON.stringify({\n                                \"email\": enteredMail.current.value,\n                                \"password\": enteredPassword.current.value,\n                                \"returnSecureToken\": true\n                            }),\n                            headers: {\n                                \"Content-Type\": \"application/json\"\n                            }\n                        })\n                        if (responce.ok) {\n                            console.log(\"User has successfully signed up\")\n                            alert(`User has successfully signed up`)\n                            const data=await responce.json();\n                            dispatch(authActions.setToken(data.idToken));\n                            dispatch(authActions.setUser(enteredMail.current.value));\n                            localStorage.setItem(\"token\",data.idToken)\n                            localStorage.setItem(\"user\",enteredMail.current.value)\n                        } else {\n                            alert(\"Authentication failed\")\n                            throw new Error(\"Sign up failed\");\n                        }\n                    } catch (error) {\n                        console.log(error);\n                    }\n                }\n            } else {\n                alert(\"please fill all the data\")\n            }\n        } else {\n            if (enteredMail.current.value.length > 0 && enteredPassword.current.value.length > 0) {\n                try {\n                    let responce = await fetch(\"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDSg8uVgp0fXQtVkz3zkV09sxAReuaip4A\", {\n                        method: \"POST\",\n                        body: JSON.stringify({\n                            \"email\": enteredMail.current.value,\n                            \"password\": enteredPassword.current.value,\n                            \"returnSecureToken\": true\n                        }),\n                        headers: {\n                            \"Content-Type\": \"application/json\"\n                        }\n                    })\n                    if (responce.ok) {\n                        const data=await responce.json();\n                        console.log(data.idToken);\n                        dispatch(authActions.setToken(data.idToken));\n                        dispatch(authActions.setUser(enteredMail.current.value));\n                        localStorage.setItem(\"token\",data.idToken)\n                        console.log(\"User has successfully Log in\")\n                        alert(`User has successfully logged in`)\n                        localStorage.setItem(\"user\",enteredMail.current.value)\n                        history.push('/inbox')\n                    } else {\n                        alert(\"Authentication failed\")\n                        throw new Error(\"Log in failed\");\n                    }\n                } catch (error) {\n                    console.log(error);\n                }\n            } else {\n                alert(\"please fill all the data\")\n            }\n        }\n    }\n    return (\n        <div className='container w-25 my-3 border border-1 align-top bg-light rounded'>\n            <Form className='my-auto'>\n                <h4 className='text-center py-4'>{!login ? \"Sign Up\" : \"Log In\"}</h4>\n                <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\n                    <Form.Control type=\"email\" placeholder=\"Email\" ref={enteredMail} />\n                </Form.Group>\n                <Form.Group className=\"mb-3\" controlId=\"formBasicPassword\">\n                    <Form.Control type=\"password\" placeholder=\"Password\" ref={enteredPassword} />\n                </Form.Group>\n                {!login && <Form.Group className=\"mb-3\" controlId=\"formBasicConfirmPassword\">\n                    <Form.Control type=\"password\" placeholder=\"Confirm Password\" ref={enteredConfirmPassword} />\n                </Form.Group>}\n                <Button variant=\"primary\" className='w-100' type=\"submit\" onClick={handleLogin}>\n                    {!login ? \"Sign Up\" : \"Log In\"}\n                </Button>\n                {login && <p className='text-center text-primary'>Forget password?</p>}\n                <Button variant=\"outline-success\" className='my-2 w-100' onClick={toggleLogin}>\n                    {!login ? \"Have an account?Login\" : \"Haven't Account?Sign Up\"}\n                </Button>\n            </Form>\n        </div>\n    )\n}\n\nexport default Login\n","C:\\Users\\chaha\\Downloads\\Task-7 Inbox view page\\src\\Components\\Pages\\ComposeMail.js",["41","42","43","44","45"],[],"import React, { useRef, useState } from 'react';\nimport './Inbox'\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\nimport { Button } from 'react-bootstrap';\nimport { useSelector } from 'react-redux';\nimport { EditorState, convertToRaw } from 'draft-js';\nimport { Editor } from 'react-draft-wysiwyg';\nimport draftToHtml from 'draftjs-to-html';\nimport htmlToDraft from 'html-to-draftjs';\n\nfunction removeSpecialChar(mail) {\n    let newMail = \"\";\n    for (let i = 0; i < mail.length; i++) {\n        if (mail[i] !== \"@\" && mail[i] !== \".\") {\n            newMail += mail[i]\n        }\n    }\n    return newMail;\n}\n\nfunction ComposeMail() {\n    const receiver = useRef();\n    const subject = useRef();\n    const mailBody = useRef();\n    const sender = useSelector(state => state.authentication.user);\n\n    const [editorState, setEditorState] = useState(() =>\n        EditorState.createEmpty()\n    );\n\n     const updateTextDescription = async (state) => {\n         await setEditorState(state);\n         const data = convertToRaw(editorState.getCurrentContent());\n\n     };\n    const handleSendMail = async (e) => {\n        e.preventDefault();\n        console.log(\"sended\");\n        console.log(receiver.current.value, subject.current.value, mailBody.current.value, sender);\n\n\n        const newMail = {\n            mailSubject: subject.current.value,\n            mailContent: mailBody.current.value,\n            Sender: sender\n        }\n\n\n\n        if (receiver.current.value.length > 0 && mailBody.current.value.length > 0 && subject.current.value.length > 0) {\n\n            try {\n                let responce = await fetch(\n                    `https://react-mailbox-client-8409e-default-rtdb.firebaseio.com/mail/${removeSpecialChar(receiver.current.value)}.json`,\n                    {\n                        method: 'POST',\n                        body: JSON.stringify(newMail),\n                        headers: {\n                            'Content-Type': 'application/json',\n                        },\n                    }\n                )\n                if (responce.ok) {\n                    let data = await responce.json();\n                    console.log(data);\n                    alert(\"mail sent successfully\");\n                } else {\n                    throw new Error(\"Failed to send mail\")\n                }\n            } catch (error) {\n                console.log(error)\n            }\n        } else {\n            alert(\"please fill all the data\")\n        }\n    }\n\n    return (\n        <>\n            <div className=\"App container\">\n                <h1 className=\"text-center\">\n                    Draft your mail\n                </h1>\n                <div>\n                    <input type=\"email\" className=\"form-control\" id=\"exampleInputEmail1\" placeholder='To' ref={receiver} aria-describedby=\"emailHelp\" />\n                    <hr />\n                </div>\n                <div>\n                    <input type=\"email\" className=\"form-control\" id=\"exampleInputSubject\" ref={subject} aria-describedby=\"emailHelp\" placeholder='Subject' />\n                    <hr />\n                </div>\n                <textarea className='w-100' style={{ height: \"20rem\" }} ref={mailBody} placeholder='Draft your mail here' />\n\n            </div>\n            <div className='container  text-center'>\n                <Button variant=\"primary\" className='my-2 w-25' onClick={handleSendMail}>\n                    Send\n                </Button>\n            </div>\n        </>\n    )\n}\n\nexport default ComposeMail;\n","C:\\Users\\chaha\\Downloads\\Task-7 Inbox view page\\src\\Components\\Layout\\Navigationbar.js",[],[],"C:\\Users\\chaha\\Downloads\\Task-7 Inbox view page\\src\\Components\\Pages\\Inbox.js",["46"],[],{"ruleId":"47","severity":1,"message":"48","line":9,"column":10,"nodeType":"49","messageId":"50","endLine":9,"endColumn":27},{"ruleId":"47","severity":1,"message":"51","line":7,"column":10,"nodeType":"49","messageId":"50","endLine":7,"endColumn":16},{"ruleId":"47","severity":1,"message":"52","line":8,"column":8,"nodeType":"49","messageId":"50","endLine":8,"endColumn":19},{"ruleId":"47","severity":1,"message":"53","line":9,"column":8,"nodeType":"49","messageId":"50","endLine":9,"endColumn":19},{"ruleId":"47","severity":1,"message":"54","line":31,"column":12,"nodeType":"49","messageId":"50","endLine":31,"endColumn":33},{"ruleId":"47","severity":1,"message":"55","line":33,"column":16,"nodeType":"49","messageId":"50","endLine":33,"endColumn":20},{"ruleId":"56","severity":1,"message":"57","line":58,"column":6,"nodeType":"58","endLine":58,"endColumn":22,"suggestions":"59"},"no-unused-vars","'removeSpecialChar' is defined but never used.","Identifier","unusedVar","'Editor' is defined but never used.","'draftToHtml' is defined but never used.","'htmlToDraft' is defined but never used.","'updateTextDescription' is assigned a value but never used.","'data' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.","ArrayExpression",["60"],{"desc":"61","fix":"62"},"Update the dependencies array to be: [user, messages, dispatch]",{"range":"63","text":"64"},[1727,1743],"[user, messages, dispatch]"]