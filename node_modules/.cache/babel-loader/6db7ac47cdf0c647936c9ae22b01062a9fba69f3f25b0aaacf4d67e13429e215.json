{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\chaha\\\\Downloads\\\\task-5-Compose and send Mail\\\\src\\\\Components\\\\Layout\\\\DummyScreen.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useState } from 'react';\nimport './DummyScreen';\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\nimport { Button } from 'react-bootstrap';\nimport { useSelector } from 'react-redux';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction removeSpecialChar(mail) {\n  let newMail = \"\";\n  for (let i = 0; i < mail.length; i++) {\n    if (mail[i] !== \"@\" && mail[i] !== \".\") {\n      newMail += mail[i];\n    }\n  }\n  return newMail;\n}\nfunction DummyScreen() {\n  _s();\n  const receiver = useRef();\n  const subject = useRef();\n  const mailBody = useRef();\n  const sender = useSelector(state => state.authentication.user);\n  const handleSendMail = async e => {\n    e.preventDefault();\n    console.log(\"sended\");\n    console.log(receiver.current.value, subject.current.value, mailBody.current.value, sender);\n    const newMail = {\n      mailSubject: subject.current.value,\n      mailContent: mailBody.current.value,\n      Sender: sender\n    };\n    if (receiver.current.value.length > 0 && mailBody.current.value.length > 0 && subject.current.value.length > 0) {\n      try {\n        let responce = await fetch(`https://react-mailbox-client-8409e-default-rtdb.firebaseio.com/mail/${removeSpecialChar(receiver.current.value)}.json`, {\n          method: 'POST',\n          body: JSON.stringify(newMail),\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        });\n        if (responce.ok) {\n          let data = await responce.json();\n          console.log(data);\n          alert(\"mail sent successfully\");\n        } else {\n          throw new Error(\"Failed to send mail\");\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    } else {\n      alert(\"please fill all the data\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"my-2  mx-2 row\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"fst-italic col-md-8\",\n        children: \"Welcome to your mail box!!!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-center\",\n        children: \"Draft your mail\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          class: \"form-control\",\n          id: \"exampleInputEmail1\",\n          placeholder: \"To\",\n          ref: receiver,\n          \"aria-describedby\": \"emailHelp\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          class: \"form-control\",\n          id: \"exampleInputSubject\",\n          ref: subject,\n          \"aria-describedby\": \"emailHelp\",\n          placeholder: \"Subject\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        className: \"w-100\",\n        ref: mailBody,\n        placeholder: \"Draft your mail here\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container  text-center\",\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"primary\",\n        className: \"my-2 w-25\",\n        onClick: handleSendMail,\n        children: \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(DummyScreen, \"8K83IL83AT25WfsVvhjK2ZoByME=\", false, function () {\n  return [useSelector];\n});\n_c = DummyScreen;\nexport default DummyScreen;\nvar _c;\n$RefreshReg$(_c, \"DummyScreen\");","map":{"version":3,"names":["React","useRef","useState","Button","useSelector","jsxDEV","_jsxDEV","Fragment","_Fragment","removeSpecialChar","mail","newMail","i","length","DummyScreen","_s","receiver","subject","mailBody","sender","state","authentication","user","handleSendMail","e","preventDefault","console","log","current","value","mailSubject","mailContent","Sender","responce","fetch","method","body","JSON","stringify","headers","ok","data","json","alert","Error","error","children","className","fileName","_jsxFileName","lineNumber","columnNumber","type","class","id","placeholder","ref","variant","onClick","_c","$RefreshReg$"],"sources":["C:/Users/chaha/Downloads/task-5-Compose and send Mail/src/Components/Layout/DummyScreen.js"],"sourcesContent":["import React, { useRef, useState } from 'react';\nimport './DummyScreen'\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\nimport { Button } from 'react-bootstrap';\nimport { useSelector } from 'react-redux';\nfunction removeSpecialChar(mail) {\n  let newMail = \"\";\n  for (let i = 0; i < mail.length; i++) {\n    if (mail[i] !== \"@\" && mail[i] !== \".\") {\n      newMail += mail[i]\n    }\n  }\n  return newMail;\n}\n\nfunction DummyScreen() {\n  const receiver = useRef();\n  const subject = useRef();\n  const mailBody = useRef();\n  const sender = useSelector(state => state.authentication.user);\n\n  const handleSendMail = async (e) => {\n    e.preventDefault();\n    console.log(\"sended\");\n    console.log(receiver.current.value, subject.current.value, mailBody.current.value, sender);\n\n    const newMail = {\n      mailSubject:subject.current.value,\n      mailContent: mailBody.current.value,\n      Sender: sender\n    }\n\n    if (receiver.current.value.length > 0 && mailBody.current.value.length > 0 && subject.current.value.length > 0) {\n\n      try {\n        let responce = await fetch(\n          `https://react-mailbox-client-8409e-default-rtdb.firebaseio.com/mail/${removeSpecialChar(receiver.current.value)}.json`,\n          {\n            method: 'POST',\n            body: JSON.stringify(newMail),\n            headers: {\n              'Content-Type': 'application/json',\n            },\n          }\n        )\n        if (responce.ok) {\n          let data = await responce.json();\n          console.log(data);\n          alert(\"mail sent successfully\");\n        } else {\n          throw new Error(\"Failed to send mail\")\n        }\n      } catch (error) {\n        console.log(error)\n      }\n    } else {\n      alert(\"please fill all the data\")\n    }\n  }\n\n  return (\n    <>\n      <div className='my-2  mx-2 row'>\n        <h1 className=\"fst-italic col-md-8\" >\n          Welcome to your mail box!!!\n        </h1>\n        <hr />\n      </div>\n      <div className=\"App container\">\n        <h1 className=\"text-center\">\n          Draft your mail\n        </h1>\n        <div>\n          <input type=\"email\" class=\"form-control\" id=\"exampleInputEmail1\" placeholder='To' ref={receiver} aria-describedby=\"emailHelp\" />\n          <hr />\n        </div>\n        <div>\n          <input type=\"email\" class=\"form-control\" id=\"exampleInputSubject\" ref={subject} aria-describedby=\"emailHelp\" placeholder='Subject' />\n          <hr />\n        </div>\n        <textarea className='w-100' ref={mailBody} placeholder='Draft your mail here' />\n      </div>\n      <div className='container  text-center'>\n        <Button variant=\"primary\" className='my-2 w-25' onClick={handleSendMail}>\n          Send\n        </Button>\n      </div>\n    </>\n  )\n}\n\nexport default DummyScreen;\n\n\n\n\n\n\n\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}