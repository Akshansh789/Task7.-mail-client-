{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\chaha\\\\Downloads\\\\task-2-Signup Screen Test Driven Development TDD\\\\src\\\\Components\\\\Pages\\\\Login.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useState } from 'react';\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form';\nimport { useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { authActions } from '../Store';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const [login, setLogin] = useState(false);\n  const enteredMail = useRef();\n  const enteredPassword = useRef();\n  const enteredConfirmPassword = useRef();\n  let dispatch = useDispatch();\n  const history = useHistory();\n  const toggleLogin = () => {\n    setLogin(!login);\n  };\n  const handleLogin = async e => {\n    e.preventDefault();\n    if (!login) {\n      if (enteredMail.current.value.length > 0 && enteredPassword.current.value.length > 0 && enteredConfirmPassword.current.value.length > 0) {\n        if (enteredPassword.current.value !== enteredConfirmPassword.current.value) {\n          alert(\"password and confirmPasswors not matching\");\n        } else {\n          try {\n            let responce = await fetch(\"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyC9KeN5MkE68bdM6gK61GjM9DumsLg5tpU\", {\n              method: \"POST\",\n              body: JSON.stringify({\n                \"email\": enteredMail.current.value,\n                \"password\": enteredPassword.current.value,\n                \"returnSecureToken\": true\n              }),\n              headers: {\n                \"Content-Type\": \"application/json\"\n              }\n            });\n            if (responce.ok) {\n              console.log(\"User has successfully signed up\");\n              alert(`User has successfully signed up`);\n            } else {\n              alert(\"Authentication failed\");\n              throw new Error(\"Sign up failed\");\n            }\n          } catch (error) {\n            console.log(error);\n          }\n        }\n      } else {\n        alert(\"please fill all the data\");\n      }\n    } else {\n      if (enteredMail.current.value.length > 0 && enteredPassword.current.value.length > 0) {\n        try {\n          let responce = await fetch(\"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDSg8uVgp0fXQtVkz3zkV09sxAReuaip4A\", {\n            method: \"POST\",\n            body: JSON.stringify({\n              \"email\": enteredMail.current.value,\n              \"password\": enteredPassword.current.value,\n              \"returnSecureToken\": true\n            }),\n            headers: {\n              \"Content-Type\": \"application/json\"\n            }\n          });\n          if (responce.ok) {\n            const data = await responce.json();\n            console.log(data.idToken);\n            dispatch(authActions.setToken(data.idToken));\n            localStorage.setItem(\"token\", data.idToken);\n            console.log(\"User has successfully Log in\");\n            alert(`User has successfully logged in`);\n            history.push('/profile');\n          } else {\n            alert(\"Authentication failed\");\n            throw new Error(\"Log in failed\");\n          }\n        } catch (error) {\n          console.log(error);\n        }\n      } else {\n        alert(\"please fill all the data\");\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container w-25 my-3 border border-1 align-top bg-light rounded\",\n    children: /*#__PURE__*/_jsxDEV(Form, {\n      className: \"my-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"text-center py-4\",\n        children: !login ? \"Sign Up\" : \"Log In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        className: \"mb-3\",\n        controlId: \"formBasicEmail\",\n        children: /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"email\",\n          placeholder: \"Email\",\n          ref: enteredMail\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        className: \"mb-3\",\n        controlId: \"formBasicPassword\",\n        children: /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"password\",\n          placeholder: \"Password\",\n          ref: enteredPassword\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }, this), !login && /*#__PURE__*/_jsxDEV(Form.Group, {\n        className: \"mb-3\",\n        controlId: \"formBasicConfirmPassword\",\n        children: /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"password\",\n          placeholder: \"Confirm Password\",\n          ref: enteredConfirmPassword\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 28\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"primary\",\n        className: \"w-100\",\n        type: \"submit\",\n        onClick: handleLogin,\n        children: !login ? \"Sign Up\" : \"Log In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }, this), login && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-center text-primary\",\n        children: \"Forget password?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 27\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"outline-success\",\n        className: \"my-2 w-100\",\n        onClick: toggleLogin,\n        children: !login ? \"Have an account?Login\" : \"Haven't Account?Sign Up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 9\n  }, this);\n};\n_s(Login, \"d/eVpw22nrsZBYcKO0Bc9SNls70=\", false, function () {\n  return [useDispatch, useHistory];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useRef","useState","Button","Form","useDispatch","useHistory","authActions","jsxDEV","_jsxDEV","Login","_s","login","setLogin","enteredMail","enteredPassword","enteredConfirmPassword","dispatch","history","toggleLogin","handleLogin","e","preventDefault","current","value","length","alert","responce","fetch","method","body","JSON","stringify","headers","ok","console","log","Error","error","data","json","idToken","setToken","localStorage","setItem","push","className","children","fileName","_jsxFileName","lineNumber","columnNumber","Group","controlId","Control","type","placeholder","ref","variant","onClick","_c","$RefreshReg$"],"sources":["C:/Users/chaha/Downloads/task-2-Signup Screen Test Driven Development TDD/src/Components/Pages/Login.js"],"sourcesContent":["import React, { useRef, useState } from 'react'\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form';\nimport { useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\n\n\nimport { authActions } from '../Store';\n\nconst Login = () => {\n    const [login, setLogin] = useState(false);\n    const enteredMail = useRef();\n    const enteredPassword = useRef();\n    const enteredConfirmPassword = useRef();\n    let dispatch=useDispatch();\n    const history=useHistory();\n    const toggleLogin = () => {\n        setLogin(!login);\n    }\n    const handleLogin = async (e) => {\n        e.preventDefault();\n        if (!login) {\n            if (enteredMail.current.value.length > 0 && enteredPassword.current.value.length > 0 && enteredConfirmPassword.current.value.length > 0) {\n                if (enteredPassword.current.value !== enteredConfirmPassword.current.value) {\n                    alert(\"password and confirmPasswors not matching\")\n                } else {\n                    try {\n                        let responce = await fetch(\"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyC9KeN5MkE68bdM6gK61GjM9DumsLg5tpU\", {\n                            method: \"POST\",\n                            body: JSON.stringify({\n                                \"email\": enteredMail.current.value,\n                                \"password\": enteredPassword.current.value,\n                                \"returnSecureToken\": true\n                            }),\n                            headers: {\n                                \"Content-Type\": \"application/json\"\n                            }\n                        })\n                        if (responce.ok) {\n                            console.log(\"User has successfully signed up\")\n                            alert(`User has successfully signed up`)\n                        } else {\n                            alert(\"Authentication failed\")\n                            throw new Error(\"Sign up failed\");\n                        }\n                    } catch (error) {\n                        console.log(error);\n                    }\n                }\n            } else {\n                alert(\"please fill all the data\")\n            }\n        } else {\n            if (enteredMail.current.value.length > 0 && enteredPassword.current.value.length > 0) {\n                try {\n                    let responce = await fetch(\"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDSg8uVgp0fXQtVkz3zkV09sxAReuaip4A\", {\n                        method: \"POST\",\n                        body: JSON.stringify({\n                            \"email\": enteredMail.current.value,\n                            \"password\": enteredPassword.current.value,\n                            \"returnSecureToken\": true\n                        }),\n                        headers: {\n                            \"Content-Type\": \"application/json\"\n                        }\n                    })\n                    if (responce.ok) {\n                        const data=await responce.json();\n                        console.log(data.idToken);\n                        dispatch(authActions.setToken(data.idToken));\n                        localStorage.setItem(\"token\",data.idToken)\n                        console.log(\"User has successfully Log in\")\n                        alert(`User has successfully logged in`)\n                        history.push('/profile')\n                    } else {\n                        alert(\"Authentication failed\")\n                        throw new Error(\"Log in failed\");\n                    }\n                } catch (error) {\n                    console.log(error);\n                }\n            } else {\n                alert(\"please fill all the data\")\n            }\n        }\n    }\n    return (\n        <div className='container w-25 my-3 border border-1 align-top bg-light rounded'>\n            <Form className='my-auto'>\n                <h4 className='text-center py-4'>{!login ? \"Sign Up\" : \"Log In\"}</h4>\n                <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\n                    <Form.Control type=\"email\" placeholder=\"Email\" ref={enteredMail} />\n                </Form.Group>\n                <Form.Group className=\"mb-3\" controlId=\"formBasicPassword\">\n                    <Form.Control type=\"password\" placeholder=\"Password\" ref={enteredPassword} />\n                </Form.Group>\n                {!login && <Form.Group className=\"mb-3\" controlId=\"formBasicConfirmPassword\">\n                    <Form.Control type=\"password\" placeholder=\"Confirm Password\" ref={enteredConfirmPassword} />\n                </Form.Group>}\n                <Button variant=\"primary\" className='w-100' type=\"submit\" onClick={handleLogin}>\n                    {!login ? \"Sign Up\" : \"Log In\"}\n                </Button>\n                {login && <p className='text-center text-primary'>Forget password?</p>}\n                <Button variant=\"outline-success\" className='my-2 w-100' onClick={toggleLogin}>\n                    {!login ? \"Have an account?Login\" : \"Haven't Account?Sign Up\"}\n                </Button>\n            </Form>\n        </div>\n    )\n}\n\nexport default Login\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}